"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveTemplateUrl = exports.hasTemplateUrl = exports.resolveStyleUrls = exports.hasStyleUrls = void 0;
const path_1 = require("path");
const styleUrlsRE = /styleUrls\s*:\s*\[([^\[]*?)\]/;
const templateUrlRE = /\s*templateUrl\s*:\s*["|']*?["|'].*/;
function hasStyleUrls(code) {
    return styleUrlsRE.test(code);
}
exports.hasStyleUrls = hasStyleUrls;
function resolveStyleUrls(code, id) {
    const styleUrlsGroup = styleUrlsRE.exec(code);
    if (Array.isArray(styleUrlsGroup) && styleUrlsGroup[0]) {
        const styleUrls = styleUrlsGroup[0].replace(/(styleUrls|\:|\s|\[|\]|"|')/g, '');
        const styleUrlPaths = (styleUrls === null || styleUrls === void 0 ? void 0 : styleUrls.split(',')) || [];
        return styleUrlPaths.map(styleUrlPath => (0, path_1.resolve)((0, path_1.dirname)(id), styleUrlPath));
    }
    return [];
}
exports.resolveStyleUrls = resolveStyleUrls;
function hasTemplateUrl(code) {
    return templateUrlRE.test(code);
}
exports.hasTemplateUrl = hasTemplateUrl;
function resolveTemplateUrl(code, id) {
    const templateUrlGroup = templateUrlRE.exec(code);
    let templateUrlPath = '';
    if (Array.isArray(templateUrlGroup) && templateUrlGroup[0]) {
        const resolvedTemplatePath = templateUrlGroup[0].replace(/templateUrl|\s|'|"|\:|,/g, '');
        templateUrlPath = (0, path_1.resolve)((0, path_1.dirname)(id), resolvedTemplatePath);
    }
    return templateUrlPath;
}
exports.resolveTemplateUrl = resolveTemplateUrl;
//# sourceMappingURL=component-resolvers.js.map